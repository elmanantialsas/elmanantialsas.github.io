{"version":3,"file":"opt-in-form.js","mappings":"yBACA,IAAIA,EAAsB,GCD1BA,EAAoBC,EAAI,WACvB,GAA0B,iBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAOC,MAAQ,IAAIC,SAAS,cAAb,GACd,MAAOC,GACR,GAAsB,iBAAXC,OAAqB,OAAOA,QALjB,G,WCAxB,IAAIC,EACAP,EAAoBC,EAAEO,gBAAeD,EAAYP,EAAoBC,EAAEQ,SAAW,IACtF,IAAIC,EAAWV,EAAoBC,EAAES,SACrC,IAAKH,GAAaG,IACbA,EAASC,gBACZJ,EAAYG,EAASC,cAAcC,MAC/BL,GAAW,CACf,IAAIM,EAAUH,EAASI,qBAAqB,UACzCD,EAAQE,SAAQR,EAAYM,EAAQA,EAAQE,OAAS,GAAGH,KAK7D,IAAKL,EAAW,MAAM,IAAIS,MAAM,yDAChCT,EAAYA,EAAUU,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFjB,EAAoBkB,EAAIX,E,GCfxB,IAAI,EAA+BY,SCA/B,EAA+BC,M,uYCCnC,wxM,8VADA,iHAAwBC,EAAxB,+BAA8B,GAAIC,EAAlC,+BAAyC,GACnCC,EAAOC,KAAKC,UAAUH,GACtBI,EAAU,CACZ,eAAgB,oBAEdL,EAAIM,SAAS,cACTC,EAAW,IAAIC,SACrBC,OAAOC,KAAKT,GAAMU,KAAI,SAACC,GAAD,OAASL,EAASM,OAAOD,EAAKX,EAAKW,OACzDV,EAAOK,EACPF,EAAU,IATd,SAYyBS,MAAMd,EAAK,CAChCe,OAAQ,OACRC,KAAM,OACNC,MAAO,WACPC,YAAa,cACbb,QAAAA,EACAc,SAAU,SACVC,eAAgB,cAChBlB,KAAAA,IApBJ,cAYQmB,EAZR,yBAsBSA,EAASC,QAtBlB,2C,wBAyBA,M,kbCxBA,4gGAAAC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQ,m8DAGA,IA+GA,EA/GkB,SAAC,GAA2D,IAAzDC,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,MAAOC,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,KACjE,KAA4CC,EAAAA,EAAAA,WAAS,GAArD,GAAOC,EAAP,KAAuBC,EAAvB,KACA,KAAkCF,EAAAA,EAAAA,WAAS,GAA3C,GAAOG,EAAP,KAAkBC,EAAlB,KAEMC,EAAchC,KAAKiC,MAAMP,GAEzBQ,EAAW,6BAAG,WAAOrD,GAAP,wEAClBA,EAAEsD,iBACFJ,GAAa,GAFK,SAIZK,EAAS,mDAAD,OAA0DJ,GAA1D,IAAuEK,OAAQ,WAAYC,mBAAmB,KAJ1G,uBAMZF,EAAS,GAAD,OAAIb,EAAJ,mBAAuBF,EAAvB,kBAA+C,CAC3DC,MAAAA,EACAiB,WAAY,UARI,OAUlBR,GAAa,GACbjD,OAAOG,SAASuD,KAAhB,UAA0Bf,EAA1B,gBAXkB,2CAAH,sDAcXgB,EAAU,6BAAG,WAAO5D,GAAP,wEACjBA,EAAEsD,iBACFJ,GAAa,GAFI,SAIXK,EAAS,GAAD,OAAIb,EAAJ,mBAAuBF,EAAvB,kBAA+C,CAC3DC,MAAAA,EACAiB,WAAY,SANG,OASjBR,GAAa,GACbjD,OAAOG,SAASuD,KAAhB,UAA0Bf,EAA1B,gBAViB,2CAAH,sDAahB,OACE,wCACE,2BAAKiB,UAAU,cACb,2BAAKA,UAAU,WACb,2BAAKA,UAAU,cACb,4BAAMA,UAAU,WACd,yBAAGA,UAAU,mCAEf,yBAAGA,UAAU,uCACb,2BAAKtD,IAAG,2BAAsBoC,EAAtB,4BAA0DmB,IAAI,KACtE,yBAAGD,UAAU,uCACb,2BAAKtD,IAAI,qEAAqEuD,IAAI,MAEpF,oCACM,6BAAIX,EAAYY,mBADtB,IAC6C,+BAD7C,yJAIF,2BAAKF,UAAU,WACb,4BAAM9B,OAAO,OAAOiC,OAAO,4BACzB,8BAAQH,UAAU,wBAAwBI,QAASZ,EAAaa,SAAUjB,GAA1E,qBAIF,8BAAQY,UAAU,0BAA0BI,QAASL,GAArD,SAIF,2BAAKC,UAAU,mBACb,yBAAGA,UAAU,cAAcI,QAAS,kBAAMjB,GAAmBD,KAA7D,uCAGCA,GACC,2BAAKc,UAAU,eACb,2BAAKA,UAAU,cACb,yBAAGA,UAAU,oCACb,+BACE,uDACA,yDAGJ,2BAAKA,UAAU,cACb,yBAAGA,UAAU,uCACb,+BACE,oDACA,iEAGJ,2BAAKA,UAAU,cACb,yBAAGA,UAAU,oCACb,+BACE,+CACA,6EAGJ,2BAAKA,UAAU,cACb,yBAAGA,UAAU,sCACb,+BACE,uDACA,wEAMV,2BAAKA,UAAU,kBACb,yBAAGF,KAAK,uCAAuCQ,IAAI,aAAaC,OAAO,UAAvE,kBAGA,qCACA,yBAAGT,KAAK,yCAAyCQ,IAAI,aAAaC,OAAO,UAAzE,2BC1GV,EAAe,IAA0B,mC,uYCCzC,4gGAAA7B,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQ,gwDAMA,IAkGA,EAlGmB,SAAC,GAAsC,IAApCC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,MAAOI,EAAqB,EAArBA,KAAMH,EAAe,EAAfA,SACzC,KAAkCI,EAAAA,EAAAA,WAAS,GAA3C,GAAOuB,EAAP,KAAkBC,EAAlB,KACA,KAAsCxB,EAAAA,EAAAA,WAAS,GAA/C,GAAOyB,EAAP,KAAoBC,EAApB,KACA,KAAkC1B,EAAAA,EAAAA,WAAS,GAA3C,GAAOG,EAAP,KAAkBC,EAAlB,KAEMuB,GAAcC,EAAAA,EAAAA,UAEdC,EAAiB,SAAC3E,GAAM,QAC5BA,EAAEsD,iBACuD,WAAzC,UAAAmB,EAAYG,eAAZ,mBAAqBC,eAArB,eAA8BrB,QAE5CH,IAEAiB,GAAcD,KAIlBS,EAAAA,EAAAA,YAAU,WAAM,MACdL,EAAYG,QAAUvE,SAAS0E,eAAT,UAA2BvC,EAA3B,aACtB,UAAAiC,EAAYG,eAAZ,SAAqBI,iBAAiB,QAASL,KAC9C,IAEH,IAAMM,EAAU,WAAM,QACpB,MAAgD,WAAzC,UAAAR,EAAYG,eAAZ,mBAAqBC,eAArB,eAA8BrB,SAGjCH,EAAW,e,EAAA,G,EAAA,UAAG,WAAOrD,GAAP,wEAClBA,SAAAA,EAAGsD,iBACHJ,GAAa,GAEbuB,EAAYG,QAAQM,aAAa,YAAY,GAJ3B,SAMZ3B,EAAS,mDAAD,EAAC,KAAyDpC,KAAKiC,MAAMP,IAArE,IAA4EY,mBAAoBwB,OAN5F,uBAOZ1B,EAAS,GAAD,OAAIb,EAAJ,mBAAuBF,EAAvB,kBAA+C,CAC3DC,MAAAA,EACAiB,WAAYuB,IAAY,UAAY,UATpB,OAYlBR,EAAYG,QAAQO,UAAYF,IAAY,SAAW,UACvDR,EAAYG,QAAQC,QAAQrB,OAASyB,IAAY,cAAgB,QAEjER,EAAYG,QAAQQ,gBAAgB,YAEpCd,GAAa,GACbpB,GAAa,GAlBK,2C,+KAAH,sDAqBjB,OACE,+BACGmB,GACC,2BAAKgB,GAAG,eAAexB,UAAU,0BAC/B,2BAAKA,UAAU,kBACb,2BAAKA,UAAU,WACb,+BACE,2BAAKtD,IAAK+E,EAAWxB,IAAI,MAE3B,+BACE,uDAA2BtB,GAC3B,0JAGJ,2BAAKqB,UAAU,cACb,4BAAM9B,OAAO,QACX,8BAAQ8B,UAAU,wBAAwBK,SAAUjB,EAAWgB,QAASZ,GAAxE,sBAKHkB,GACC,2BAAKV,UAAU,gBACb,oEACA,8BACE,2EACA,mFACA,6FACA,0FAIN,2BAAKA,UAAU,cACb,yBAAGF,KAAK,IAAIE,UAAU,WAAWI,QAAS,kBAAMK,GAAa,KAA7D,QAGA,yBAAGX,KAAK,IAAIE,UAAU,iBAAiBI,QAAS,kBAAMO,GAAgBD,KAAtE,cAJF,IAQE,yBAAGZ,KAAK,IAAIE,UAAU,WAAWI,QAAS,kBAAMK,GAAa,KAA7D,a,25BCzEdrE,OAAOsF,qBAjBsB,SAAC/C,GAC5B,IAAMgD,EAAMnF,SAAS0E,eAAT,UAA2BvC,EAA3B,cAEZ,GAAIgD,EAAK,CACP,IAAMX,EAAU,KAAKW,EAAIX,UAAa,GACtCpD,OAAOC,KAAK8D,EAAIX,SAASlD,KAAI,SAACC,GAAD,cAAgB4D,EAAIX,QAAQjD,OACzD6D,EAAAA,EAAAA,QAAO,oBAAC,EAAD,GAAWjD,OAAQA,GAAYqC,IAAaW,GAGrD,IAAME,EAAWrF,SAAS0E,eAAT,UAA2BvC,EAA3B,eACjB,GAAIkD,EAAU,CACZ,IAAMb,EAAU,KAAKa,EAASb,UAAa,GAC3CpD,OAAOC,KAAKgE,EAASb,SAASlD,KAAI,SAACC,GAAD,cAAgB8D,EAASb,QAAQjD,OACnE6D,EAAAA,EAAAA,QAAO,oBAAC,EAAD,GAAYjD,OAAQA,GAAYqC,IAAaa,K","sources":["webpack://BBlockSDK/webpack/bootstrap","webpack://BBlockSDK/webpack/runtime/global","webpack://BBlockSDK/webpack/runtime/publicPath","webpack://BBlockSDK/external var \"ReactDOM\"","webpack://BBlockSDK/external var \"React\"","webpack://BBlockSDK/./src/utils/postData.js","webpack://BBlockSDK/./src/components/OptInForm/OptInForm.js","webpack://BBlockSDK/./assets/images/shield_success.png","webpack://BBlockSDK/./src/components/OptInModal/OptInModal.js","webpack://BBlockSDK/./src/opt-in/opt-in-form.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","var __WEBPACK_NAMESPACE_OBJECT__ = ReactDOM;","var __WEBPACK_NAMESPACE_OBJECT__ = React;","async function postData(url = \"\", data = {}) {\r\n  let body = JSON.stringify(data);\r\n  let headers = {\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n  if (url.includes(\"ajax.php\")) {\r\n    const formData = new FormData();\r\n    Object.keys(data).map((key) => formData.append(key, data[key]));\r\n    body = formData;\r\n    headers = {};\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    mode: \"cors\",\r\n    cache: \"no-cache\",\r\n    credentials: \"same-origin\",\r\n    headers,\r\n    redirect: \"follow\",\r\n    referrerPolicy: \"no-referrer\",\r\n    body,\r\n  });\r\n  return response.json();\r\n}\r\n\r\nexport default postData;\r\n","import { useState } from \"react\";\r\nimport postData from \"../../utils/postData\";\r\nimport \"./style.scss\";\r\n\r\nconst OptInForm = ({ prefix, nonce, ajax_url, basename, admin_url, info }) => {\r\n  const [showPermission, setShowPermission] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const information = JSON.parse(info);\r\n\r\n  const handleAgree = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    await postData(\"https://bplugins.com/wp-json/data/v1/accept-data\", { ...information, status: \"activate\", marketing_allowed: true });\r\n\r\n    await postData(`${ajax_url}?action=${prefix}-opt-in-update`, {\r\n      nonce,\r\n      actionType: \"agree\",\r\n    });\r\n    setIsLoading(false);\r\n    window.location.href = `${admin_url}/plugins.php`;\r\n  };\r\n\r\n  const handleSkip = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    await postData(`${ajax_url}?action=${prefix}-opt-in-update`, {\r\n      nonce,\r\n      actionType: \"skip\",\r\n    });\r\n\r\n    setIsLoading(false);\r\n    window.location.href = `${admin_url}/plugins.php`;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"bts-opt-in\">\r\n        <div className=\"content\">\r\n          <div className=\"bp-connect\">\r\n            <span className=\"wp-icon\">\r\n              <i className=\"dashicons dashicons-wordpress\"></i>\r\n            </span>\r\n            <i className=\"dashicons dashicons-plus fs-second\"></i>\r\n            <img src={`https://ps.w.org/${basename}/assets/icon-128x128.png`} alt=\"\" />\r\n            <i className=\"dashicons dashicons-plus fs-second\"></i>\r\n            <img src=\"https://bplugins.com/wp-content/uploads/2021/07/bplugins-white.png\" alt=\"\" />\r\n          </div>\r\n          <p>\r\n            Hey <b>{information.user_display_name}</b>,<br /> Never miss an important update - opt in to our security and feature updates notifications, and non-sensitive diagnostic tracking with bplugins.com.\r\n          </p>\r\n        </div>\r\n        <div className=\"actions\">\r\n          <form method=\"POST\" action=\"<?php echo $this->url ?>\">\r\n            <button className=\"button button-primary\" onClick={handleAgree} disabled={isLoading}>\r\n              Agree & continue\r\n            </button>\r\n          </form>\r\n          <button className=\"button button-secondary\" onClick={handleSkip}>\r\n            Skip\r\n          </button>\r\n        </div>\r\n        <div className=\"what-is-granted\">\r\n          <p className=\"details-btn\" onClick={() => setShowPermission(!showPermission)}>\r\n            What permissions are being granted?\r\n          </p>\r\n          {showPermission && (\r\n            <div className=\"permissions\">\r\n              <div className=\"permission\">\r\n                <i className=\"dashicons dashicons-admin-users\"></i>\r\n                <div>\r\n                  <h3>YOUR PROFILE OVERVIEW</h3>\r\n                  <p>Name and email address</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"permission\">\r\n                <i className=\"dashicons dashicons-admin-settings\"></i>\r\n                <div>\r\n                  <h3>YOUR SITE OVERVIEW</h3>\r\n                  <p>Site URL, WP version, PHP info</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"permission\">\r\n                <i className=\"dashicons dashicons-testimonial\"></i>\r\n                <div>\r\n                  <h3>ADMIN NOTICES</h3>\r\n                  <p>Updates, announcements, marketing, no spam</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"permission\">\r\n                <i className=\"dashicons dashicons-admin-plugins\"></i>\r\n                <div>\r\n                  <h3>CURRENT PLUGIN STATUS</h3>\r\n                  <p>Active, deactivated, or uninstalled</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"privacy-policy\">\r\n          <a href=\"https://bplugins.com/privacy-policy/\" rel=\"noreferrer\" target=\"_blank\">\r\n            Privacy Policy\r\n          </a>\r\n          <span>-</span>\r\n          <a href=\"https://bplugins.com/terms-of-service/\" rel=\"noreferrer\" target=\"_blank\">\r\n            Terms and Condition\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OptInForm;\r\n","export default __webpack_public_path__ + \"assets/images/shield_success.png\";","import { useEffect, useRef, useState } from \"react\";\r\nimport postData from \"./../../utils/postData\";\r\n\r\n// import shieldImg from \"./../../../../assets/images/shield_success.png\";\r\nimport shieldImg from \"./../../../assets/images/shield_success.png\";\r\nimport \"./style.scss\";\r\n\r\nconst OptInModal = ({ prefix, nonce, info, ajax_url }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const modalBtnRef = useRef();\r\n\r\n  const handleBtnClick = (e) => {\r\n    e.preventDefault();\r\n    const isOptIn = modalBtnRef.current?.dataset?.status === \"agree\";\r\n    if (isOptIn) {\r\n      handleAgree();\r\n    } else {\r\n      setShowModal(!showModal);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    modalBtnRef.current = document.getElementById(`${prefix}OptInBtn`);\r\n    modalBtnRef.current?.addEventListener(\"click\", handleBtnClick);\r\n  }, []);\r\n\r\n  const isOptIn = () => {\r\n    return modalBtnRef.current?.dataset?.status === \"agree\";\r\n  };\r\n\r\n  const handleAgree = async (e) => {\r\n    e?.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    modalBtnRef.current.setAttribute(\"disabled\", true);\r\n\r\n    await postData(\"https://bplugins.com/wp-json/data/v1/accept-data\", { ...JSON.parse(info), marketing_allowed: !isOptIn() });\r\n    await postData(`${ajax_url}?action=${prefix}-opt-in-update`, {\r\n      nonce,\r\n      actionType: isOptIn() ? \"opt_out\" : \"agree\",\r\n    });\r\n\r\n    modalBtnRef.current.innerText = isOptIn() ? \"Opt In\" : \"Opt Out\";\r\n    modalBtnRef.current.dataset.status = isOptIn() ? \"not_allowed\" : \"agree\";\r\n\r\n    modalBtnRef.current.removeAttribute(\"disabled\");\r\n\r\n    setShowModal(false);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {showModal && (\r\n        <div id=\"opt_in_modal\" className=\"opt_in_modal modal_sdk\">\r\n          <div className=\"opt_in_content\">\r\n            <div className=\"content\">\r\n              <div>\r\n                <img src={shieldImg} alt=\"\" />\r\n              </div>\r\n              <div>\r\n                <h3>Stay on the safe side {prefix}</h3>\r\n                <p>Receive our pluginâ€™s alerts in case of critical security & feature updates and allow non-sensitive diagnostic tracking.</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"active-btn\">\r\n              <form method=\"POST\">\r\n                <button className=\"button button-primary\" disabled={isLoading} onClick={handleAgree}>\r\n                  Agree & continue\r\n                </button>\r\n              </form>\r\n            </div>\r\n            {showDetails && (\r\n              <div className=\"granted-info\">\r\n                <h3>You&apos;re granting these permissions:</h3>\r\n                <ul>\r\n                  <li>Your profile information (name and email)</li>\r\n                  <li>Your site information (URL, WP version, PHP info)</li>\r\n                  <li>Plugin notices (updates, announcements, marketing, no spam)</li>\r\n                  <li>Plugin events (activation, deactivation and uninstall)</li>\r\n                </ul>\r\n              </div>\r\n            )}\r\n            <div className=\"learn-skip\">\r\n              <a href=\"#\" className=\"hide-btn\" onClick={() => setShowModal(false)}>\r\n                hide\r\n              </a>\r\n              <a href=\"#\" className=\"learn-more-btn\" onClick={() => setShowDetails(!showDetails)}>\r\n                Learn More\r\n              </a>\r\n              |\r\n              <a href=\"#\" className=\"skip-btn\" onClick={() => setShowModal(false)}>\r\n                Skip\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptInModal;\r\n","import { render } from \"react-dom\";\r\nimport OptInForm from \"../components/OptInForm/OptInForm\";\r\nimport OptInModal from \"../components/OptInModal/OptInModal\";\r\n\r\nconst bsdkOptInFormHandler = (prefix) => {\r\n  const dom = document.getElementById(`${prefix}OptInForm`);\r\n\r\n  if (dom) {\r\n    const dataset = { ...dom.dataset } || {};\r\n    Object.keys(dom.dataset).map((key) => delete dom.dataset[key]);\r\n    render(<OptInForm prefix={prefix} {...dataset} />, dom);\r\n  }\r\n\r\n  const modalDom = document.getElementById(`${prefix}OptInModal`);\r\n  if (modalDom) {\r\n    const dataset = { ...modalDom.dataset } || {};\r\n    Object.keys(modalDom.dataset).map((key) => delete modalDom.dataset[key]);\r\n    render(<OptInModal prefix={prefix} {...dataset} />, modalDom);\r\n  }\r\n};\r\n\r\nwindow.bsdkOptInFormHandler = bsdkOptInFormHandler;\r\n"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","scriptUrl","importScripts","location","document","currentScript","src","scripts","getElementsByTagName","length","Error","replace","p","ReactDOM","React","url","data","body","JSON","stringify","headers","includes","formData","FormData","Object","keys","map","key","append","fetch","method","mode","cache","credentials","redirect","referrerPolicy","response","json","i","prefix","nonce","ajax_url","basename","admin_url","info","useState","showPermission","setShowPermission","isLoading","setIsLoading","information","parse","handleAgree","preventDefault","postData","status","marketing_allowed","actionType","href","handleSkip","className","alt","user_display_name","action","onClick","disabled","rel","target","showModal","setShowModal","showDetails","setShowDetails","modalBtnRef","useRef","handleBtnClick","current","dataset","useEffect","getElementById","addEventListener","isOptIn","setAttribute","innerText","removeAttribute","id","shieldImg","bsdkOptInFormHandler","dom","render","modalDom"],"sourceRoot":""}